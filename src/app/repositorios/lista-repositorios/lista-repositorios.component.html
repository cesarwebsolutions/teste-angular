<div class="container">
    <form [formGroup]="form" (ngSubmit)="listaRepositorios()">
        <div class="input-group my-3">
            <input type="text" class="form-control" formControlName="repositorio" placeholder="Digite o nome do repositorio" aria-label="Recipient's username"
                aria-describedby="basic-addon2">
            <button type="submit" class="input-group-text" id="basic-addon2"><img src="assets/search.svg" alt=""></button>
        </div>
    </form>
</div>
<div class="container">
    Total = {{totalRepositorios}}
    <div class="card my-3" *ngFor="let repositorio of repositorios | paginate: { itemsPerPage: 30, currentPage: page, totalItems: totalRepositorios }">
        <div class="card-body">
            <div class="d-flex">
                <img src="{{repositorio.owner.avatar_url}}" alt="imagem avatar">
                <a class="px-2" target="_blank" href="{{repositorio.html_url}}">{{repositorio.full_name}}</a>
            </div>
            <p class="descricao">{{repositorio.description}}</p>
            <div class="d-flex flex-wrap">
                <a class="p-2" *ngFor="let topicos of repositorio.topics | slice:0:5; let i=index">
                    {{topicos}}
                </a>
            </div>
            <div class="d-flex justify-content-start">
                <div class="d-flex align-middle p-2">
                    <img src="assets/star.svg" alt="">
                    <span class="m-0">
                         {{repositorio.stargazers_count}}
                    </span>
                </div>
                <div class="p-2">
                    <span>{{repositorio.updated_at}}</span>
                </div>
                <ng-container *ngIf="repositorio.open_issues_count > 0" class="p-2">
                    <div class="p-2">
                        <span (click)="listaIssues(repositorio.full_name)">{{repositorio.open_issues_count}} precisando de ajuda!</span>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>
<div class="d-flex justify-content-center">
    <pagination-controls (pageChange)="mudarPagina($event)" previousLabel="Anterior"
        nextLabel="PrÃ³ximo"></pagination-controls>
</div>
<app-loader *ngIf="loader"></app-loader>